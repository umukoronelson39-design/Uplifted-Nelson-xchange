<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Uplifted Nelson Xchange</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:Poppins,sans-serif;
  background:linear-gradient(135deg,#6a11cb,#2575fc);
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  background:#fff;
  width:100%;
  max-width:600px;
  padding:30px;
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}
h2{text-align:center;color:#2575fc}
input,select,textarea,button{
  width:100%;
  padding:14px;
  margin-bottom:12px;
  border-radius:10px;
  border:2px solid #ddd;
  font-weight:600;
}
button{
  background:#2575fc;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{background:#185bd8}
.card{
  background:#f7f9ff;
  padding:20px;
  border-radius:14px;
  margin-bottom:20px;
}
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  padding:10px;
  border-bottom:1px solid #ccc;
}
th{background:#2575fc;color:#fff}
.status-pending{color:orange;font-weight:700}
.status-approved{color:green;font-weight:700}
.status-rejected{color:red;font-weight:700}
.hidden{display:none}
.logout{
  background:#fff;
  color:#2575fc;
  border:2px solid #2575fc;
}
</style>
</head>

<body>
<div class="container">

<!-- LOGIN -->
<section id="loginSection">
<h2>Login</h2>
<input id="username" placeholder="Username">
<input id="password" type="password" placeholder="Password">
<button id="loginBtn">Login</button>
<p id="loginError" style="color:red;text-align:center;display:none">Invalid login</p>
</section>

<!-- USER APP -->
<section id="userSection" class="hidden">
<button class="logout" onclick="logout()">Logout</button>
<h2>User Dashboard</h2>

<div class="card">
<select id="tradeCategory">
<option value="">Category</option>
<option value="Crypto">Crypto</option>
<option value="Gift Card">Gift Card</option>
</select>

<select id="assetType" disabled>
<option value="">Asset</option>
</select>

<input type="number" id="tradeAmount" placeholder="Amount">
<textarea id="tradeDetails" placeholder="Details"></textarea>

<button onclick="submitTrade()">Submit Trade</button>
<p id="tradeMsg"></p>
</div>

<div class="card">
<h3>Your Trades</h3>
<table>
<thead>
<tr><th>Date</th><th>Asset</th><th>Amount</th><th>Status</th></tr>
</thead>
<tbody id="userTrades"></tbody>
</table>
</div>
</section>

<!-- ADMIN -->
<section id="adminSection" class="hidden">
<button class="logout" onclick="logout()">Logout</button>
<h2>Admin Dashboard</h2>

<div class="card">
<h3>All Trades</h3>
<table>
<thead>
<tr><th>Date</th><th>User</th><th>Asset</th><th>Amount</th><th>Status</th><th>Action</th></tr>
</thead>
<tbody id="adminTrades"></tbody>
</table>
</div>
</section>

</div>

<script>
const USER={u:"Upliftednel",p:"Nelson@24$"};
const ADMIN={u:"admin",p:"Admin@123"};

const crypto=["Bitcoin","Ethereum","USDT","USDC","BNB","TRON"];
const gift=["Amazon","Apple","Google Play","Steam","PlayStation","Xbox","Netflix","Spotify","Visa"];

tradeCategory.onchange=()=>{
  assetType.innerHTML='<option value="">Asset</option>';
  assetType.disabled=false;
  (tradeCategory.value==="Crypto"?crypto:gift).forEach(a=>{
    let o=document.createElement("option");o.textContent=a;assetType.appendChild(o);
  });
};

loginBtn.onclick=()=>{
  if(username.value===USER.u && password.value===USER.p){
    localStorage.setItem("role","user");
    showUser();
  }else if(username.value===ADMIN.u && password.value===ADMIN.p){
    localStorage.setItem("role","admin");
    showAdmin();
  }else loginError.style.display="block";
};

function logout(){
  localStorage.clear();
  location.reload();
}

function showUser(){
  loginSection.style.display="none";
  userSection.classList.remove("hidden");
  loadUserTrades();
}

function showAdmin(){
  loginSection.style.display="none";
  adminSection.classList.remove("hidden");
  loadAdminTrades();
}

function submitTrade(){
  if(!assetType.value||!tradeAmount.value) return;
  let trades=JSON.parse(localStorage.getItem("trades"))||[];
  trades.push({
    date:new Date().toLocaleString(),
    user:"Upliftednel",
    asset:assetType.value,
    amount:tradeAmount.value,
    status:"Pending"
  });
  localStorage.setItem("trades",JSON.stringify(trades));
  tradeMsg.textContent="Trade submitted (Pending)";
  tradeMsg.style.color="green";
  loadUserTrades();
}

function loadUserTrades(){
  userTrades.innerHTML="";
  (JSON.parse(localStorage.getItem("trades"))||[])
  .filter(t=>t.user==="Upliftednel")
  .forEach(t=>{
    userTrades.innerHTML+=`<tr>
    <td>${t.date}</td>
    <td>${t.asset}</td>
    <td>${t.amount}</td>
    <td class="status-${t.status.toLowerCase()}">${t.status}</td>
    </tr>`;
  });
}

function loadAdminTrades(){
  adminTrades.innerHTML="";
  (JSON.parse(localStorage.getItem("trades"))||[]).forEach((t,i)=>{
    adminTrades.innerHTML+=`<tr>
    <td>${t.date}</td>
    <td>${t.user}</td>
    <td>${t.asset}</td>
    <td>${t.amount}</td>
    <td class="status-${t.status.toLowerCase()}">${t.status}</td>
    <td>
      <button onclick="updateTrade(${i},'Approved')">✔</button>
      <button onclick="updateTrade(${i},'Rejected')">✖</button>
    </td>
    </tr>`;
  });
}

function updateTrade(i,status){
  let trades=JSON.parse(localStorage.getItem("trades"));
  trades[i].status=status;
  localStorage.setItem("trades",JSON.stringify(trades));
  loadAdminTrades();
}

if(localStorage.getItem("role")==="user") showUser();
if(localStorage.getItem("role")==="admin") showAdmin();
</script>
</body>
</html>